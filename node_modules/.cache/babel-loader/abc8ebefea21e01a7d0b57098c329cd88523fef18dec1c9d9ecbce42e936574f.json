{"ast":null,"code":"var _jsxFileName = \"/Users/user/movie-serch/movie-serch/src/App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from 'react';\nimport MovieCard from './MovieCard';\nimport Counter from './Counter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [search, setSearch] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState('');\n  const API_KEY = 'bbc1f8d1';\n  const searchMovies = useCallback(async () => {\n    try {\n      const response = await fetch(`http://www.omdbapi.com/?s=${encodeURIComponent(search)}&apikey=${API_KEY}`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data.Response === 'True') {\n        setMovies(data.Search);\n        setError('');\n      } else {\n        setMovies([]);\n        setError(data.Error || 'No movies found');\n      }\n    } catch (error) {\n      console.error('Fetch error:', error);\n      setMovies([]);\n      setError(error.message);\n    }\n  }, [search, API_KEY]); // Зависимости search и API_KEY\n\n  useEffect(() => {\n    if (search) searchMovies();\n  }, [search, searchMovies]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: '600px',\n      margin: '0 auto',\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Movie Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Counter, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: search,\n      onChange: e => setSearch(e.target.value),\n      placeholder: \"Search for a movie...\",\n      style: {\n        width: '100%',\n        padding: '10px',\n        marginBottom: '20px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        setSearch('');\n        setMovies([]);\n        setError('');\n      },\n      style: {\n        padding: '10px 20px',\n        marginBottom: '20px'\n      },\n      children: \"Clear Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }, this), movies.length > 0 ? movies.map((movie, index) => /*#__PURE__*/_jsxDEV(MovieCard, {\n      title: movie.Title,\n      year: movie.Year,\n      poster: movie.Poster\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }, this)) : !error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No movies found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"HjoPq28lRs2pGs7VROszgZbHcr4=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","useCallback","MovieCard","Counter","jsxDEV","_jsxDEV","App","_s","search","setSearch","movies","setMovies","error","setError","API_KEY","searchMovies","response","fetch","encodeURIComponent","ok","Error","status","data","json","Response","Search","console","message","style","maxWidth","margin","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","width","marginBottom","onClick","color","length","map","movie","index","title","Title","year","Year","poster","Poster","_c","$RefreshReg$"],"sources":["/Users/user/movie-serch/movie-serch/src/App.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport MovieCard from './MovieCard';\nimport Counter from './Counter';\n\nfunction App() {\n  const [search, setSearch] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState('');\n  const API_KEY = 'bbc1f8d1'; \n\n  const searchMovies = useCallback(async () => {\n    try {\n      const response = await fetch(\n        `http://www.omdbapi.com/?s=${encodeURIComponent(search)}&apikey=${API_KEY}`\n      );\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data.Response === 'True') {\n        setMovies(data.Search);\n        setError('');\n      } else {\n        setMovies([]);\n        setError(data.Error || 'No movies found');\n      }\n    } catch (error) {\n      console.error('Fetch error:', error);\n      setMovies([]);\n      setError(error.message);\n    }\n  }, [search, API_KEY]); // Зависимости search и API_KEY\n\n  useEffect(() => {\n    if (search) searchMovies();\n  }, [search, searchMovies]); \n  return (\n    <div style={{ maxWidth: '600px', margin: '0 auto', padding: '20px' }}>\n      <h1>Movie Search</h1>\n      <Counter />\n      <input\n        type=\"text\"\n        value={search}\n        onChange={(e) => setSearch(e.target.value)}\n        placeholder=\"Search for a movie...\"\n        style={{ width: '100%', padding: '10px', marginBottom: '20px' }}\n      />\n      <button\n        onClick={() => {\n          setSearch('');\n          setMovies([]);\n          setError('');\n        }}\n        style={{ padding: '10px 20px', marginBottom: '20px' }}\n      >\n        Clear Search\n      </button>\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n      {movies.length > 0 ? (\n        movies.map((movie, index) => (\n          <MovieCard\n            key={index}\n            title={movie.Title}\n            year={movie.Year}\n            poster={movie.Poster}\n          />\n        ))\n      ) : (\n        !error && <p>No movies found</p>\n      )}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}